{% extends "base.html" %}
{% load i18n %}

{% block title %}{% translate "Registra una cuenta" %}{% endblock %}

{% block head %}
<link rel="stylesheet" href="/smap/css/general.css"/>
<link rel="stylesheet" href="/smap/css/login.css"/>
{% endblock %}

{% block content %}
<h1>{% translate "Registrate" %}</h1>
<form name="registerForm" method="post" action="{% url 'apiRegister' %}" onsubmit="return validateRegisterForm()">
    <div class="field-array">
        <label><input type="text" name="username" required>{% translate "Nombre de usuario" %}</label>
        <label><input type="text" name="email" required>{% translate "email" %}</label>
        <label><input type="password" name="password" required>{% translate "contraseña" %}</label>
        <label><input type="password" name="password-check" required>{% translate "repetir contraseña" %}</label>
    </div>
    <input type="submit" value="Register">
</div>
{% endblock %}

{% block after_scripts %}
<script>
    function validateRegisterForm() {
        let pass = document.forms["registerForm"]["password"].value;
        let pass_check = document.forms["registerForm"]["password-check"].value;

        if (pass != pass_check) {
            alert("{% translate "La contraseña debe coincidir" %}");
            return false;
        }
        return true;
    }
</script>
{% endblock %}
