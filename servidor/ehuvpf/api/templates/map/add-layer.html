{% extends "base.html" %}
{% load i18n %}

{% block title %}{% translate "Añadir capa" %}{% endblock %}

{% block head %}
<link rel="stylesheet" href="/smap/css/general.css"/>
<link rel="stylesheet" href="/smap/css/field-array.css"/>
{% endblock %}

{% block content %}
<script src="/smap/js/add-layer.js"></script>
<h1>{% translate "Administración del proyecto" %} <b>{{ project.name }}</b></h1>
<h3>{% translate "Creando capa nueva" %}</h3>
<form id="formAddLayer" onsubmit="return false">
    <div class="field-array-center">
        <label>
            <input name="name-pattern" type="text" value="{{ layer.name_pattern }}">
            {% translate "Patrón en el nombre (para identificación automática de capa)" %}
        </label>
        <label>
            <input type="text" name="layer-name"/>
            {% translate "Nombre de la capa" %}
        </label>
        <label>
            {% translate "Selecciona los atributos que se mostrarán en la nueva capa" %}
            <br>
            <select id="attribute-select" name="attributes" onchange="attributesChanged()" multiple>
                {% for attribute in attributes %}
                <option value="{{ attribute.pk }}">{{ attribute.display_name }} ({{ attribute.name }})</option>
                {% endfor %}
            </select>
        </label>
        <label>
            {% translate "Selecciona el atributo que se va a utilizar para colorear los edificios" %}
            <br>
            <select id="color-attribute-select" name="color-attribute"></select>
        </label>
        <button type="submit" onclick="addLayer()">{% translate "Crear capa" %}</button>
    </div>
</form>
{% endblock %}

{% block after_load %}
{% endblock %}
