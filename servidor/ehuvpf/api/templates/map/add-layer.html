{% extends "base.html" %}
{% load i18n %}

{% block title %}{% translate "Añadir capa" %}{% endblock %}

{% block content %}
<h1>{% translate "Administración del proyecto" %} {{ project.name }}</h1>
<h3>{% translate "Creando capa nueva" %}</h3>
<form method="post" action="/map/api/addLayer">
    {# TODO: Hacer esto con un form y labels #}
    <p>{% translate "Patrón en el nombre (para identificación automática de capa)" %}</p>
    <input name="name-pattern" type="text" value="{{ layer.name_pattern }}">
    <p>{% translate "Nombre de la capa" %}</p>
    <input type="text" name="layer-name"/>
    <p>{% translate "Selecciona los atributos que se mostrarán en la nueva capa" %}</p>
    <select id="attribute-select" name="attributes" onchange="attributesChanged()" multiple>
        {% for attribute in attributes %}
            <option value="{{ attribute.pk }}">{{ attribute.display_name }} ({{ attribute.name }})</option>
        {% endfor %}
    </select>
    <p>{% translate "Selecciona el atributo que se va a utilizar para colorear los edificios" %}</p>
    <select id="color-attribute-select" name="color-attribute"></select>
    <input type="submit" value="Crear capa"/>
</form>
{% endblock %}

{% block after_scripts %}
<script src="/smap/js/add-layer.js"></script>
{% endblock %}
