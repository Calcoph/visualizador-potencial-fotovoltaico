{% extends "base.html" %}
{% load i18n %}

{% block title %}{% translate "Editar atributo" %}{% endblock %}

{% block content %}
<h1>{% translate "Editando atributo" %} <span id="title_name" style="border: 1px solid black;">{{ attribute.display_name }}</span>:</h1>
<dialog id="delete-confirm">
    <p>{% translate "Estás seguro de que quieres eliminar el atributo" %} <b>{{ attribute.display_name }}</b>?</p>
    <button onclick="deleteAttribute()">Sí</button>
    <button autofocus onclick="document.getElementById('delete-confirm').close()">No</button>
</dialog>
<form id="formEditAttribute" onsubmit="return false">
    <label>
        {% translate "Identificador: (Este identificador es el nombre del atributo en los archivos subidos)" %}<br>
        <input type="text" id="name" name="name" value="{{ attribute.name }}">
    </label><br>
    <label>
        {% translate "Nombre a mostrar:" %}<br>
        <input type="text" id="display_name" name="display_name" value="{{ attribute.display_name }}">
    </label><br>
    <label>
        {% translate "Descripción:" %}<br>
        <textarea id="description" name="description">{{ attribute.description }}</textarea>
    </label><br>
    <label>
        {% translate "Unidad:" %}<br>
        <input type="text" id="unit" name="unit" value="{{ attribute.unit }}">
    </label><br>
    <input type="hidden" name="id" value="{{ attribute.pk }}">
    <button type="submit" onclick="editAttribute()">{% translate "Confirmar" %}</button>
    <button type="button" onclick="document.getElementById('delete-confirm').showModal()">{% translate "Eliminar" %}</button>
</form>

{% endblock %}

{% block after_scripts %}
<script src="/smap/js/edit-attribute.js"></script>
{% endblock %}
